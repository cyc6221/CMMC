<!DOCTYPE html>
<html lang="{{ page.lang | default: site.lang | default: 'en' }}">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    {% seo %}
    <link rel="stylesheet" href="{{ '/assets/main.css' | relative_url }}">

    {% include mathjax.html %}
  </head>

  <body id="top" class="{% if page.toc != false and page.layout == 'page' %}has-toc{% endif %}">
    {% include header.html %}

    <main class="page-content" aria-label="Content">
      <div class="wrapper">
        {{ content }}
      </div>
    </main>

    {% include footer.html %}

    <script src="{{ '/assets/js/page-toc.js' | relative_url }}"></script>
    <script src="{{ '/assets/js/chapters-toggle.js' | relative_url }}"></script>

    <a class="back-to-top" href="#top" aria-label="Back to top">â†‘</a>

    <script>
      (function () {
        const btn = document.querySelector('.back-to-top');
        if (!btn) return;

        const toggle = () => {
          if (window.scrollY > 250) btn.classList.add('is-visible');
          else btn.classList.remove('is-visible');
        };

        window.addEventListener('scroll', toggle, { passive: true });
        toggle();
      })();
    </script>
  </body>
</html>
